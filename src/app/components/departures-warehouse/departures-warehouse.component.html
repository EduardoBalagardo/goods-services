<app-nav-bar></app-nav-bar>
<hr>
<h1 class="text-center"> Entradas y Salidas  </h1>
  <div class="row container">
      <div class="col-md-6 "> 
          <h5> Entradas Stock</h5>
        <hr>
        <table class="table table-stripped">
          <thead>
            <tr>
                <th> Fecha Entrada </th>
                <th> Factura</th>
                <th> Cantidad </th>
                <th> Total IVA</th>
                <th> Proovedor </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let e of entries">
                <td>{{e.entrie.ent_fecha}}</td>
                <td>{{e.entrie.ent_factura}}</td>
                <td><a href="" class="btn btn-sm" data-toggle="modal" data-target=".bd-example-modal-lg"
                  (click)="setDetailArray(e)">{{e.entrie.ent_cantidad}}</a></td>
                <th>{{e.entrie.ent_total}}</th>
                <th>{{e.entrie.prv_nombre}}</th>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-md-6 ">
          <h5> Salidas Almacen Stock</h5>
        <button (click)="addNewDelivery()" class="fa fa-plus btn btn-sm btn-primary"></button>
        <hr>
        <form class="needs-validation" #form="ngForm" (submit)="deliverySend(form)">
            <div class="row">
                <div class="col-md-4 mb-4">
                  <label for="empleados">Empleado</label>
                  <select class="custom-select d-block w-100" id="_catEmpleado" name="_catEmpleado"
                    [(ngModel)]="_catEmpleado" (change)="validate()">
                    <option [ngValue]="emp" *ngFor="let emp of catEmpleados">{{emp.emp_fullname}}</option>
                  </select>
                </div>
                <div class="col-md-4 mb-4">
                    <label for="empleados">Centro Costos</label>
                    <input type="text" class="form-control" placeholder=" Centro de Costos " name="this._catEmpleado.cec_descripcion"
                  #_catEmpleado.cec_descripcion="ngModel" [(ngModel)]="this._catEmpleado.cec_descripcion"
                  value="{{_catEmpleado.cec_descripcion}}" disabled>
                </div>
                <div class="col-md-4 mb-4">
                    <label for="empleados">Puesto</label>
                    <input type="text" class="form-control" placeholder=" Puesto " name="this._catEmpleado.pto_descripcion"
                  #_catEmpleado.pto_descripcion="ngModel" [(ngModel)]="this._catEmpleado.pto_descripcion"
                  value="{{_catEmpleado.pto_descripcion}}" disabled>                    
                </div>
              </div>

        </form>
      </div>
  </div>




  <!---
    MODAL
    --->
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
aria-hidden="true">
<div class="modal-dialog modal-lg">
  <div class="modal-content">

    <div class="modal-header">
      <h5 class="modal-title" id="exampleModalLongTitle"></h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <table class="table table-responsive">
        <thead>
          <tr>
            <th>Articulo</th>
            <th>Stock</th>      
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of entriesDetail">
            <td>{{c.end_nombre_bien}}</td>
            <td>{{c.end_stock}}</td>
   
          </tr>
          <tr>
            <th>Total</th>                        
            <th>{{entriesTotal}}</th>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-dismiss="modal">cerrar</button>
    </div>
  </div>
</div>
</div>
